<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CyberX â€” Nexty (25 Tools)</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
/* --- Original styling preserved (slightly cleaned) --- */
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:radial-gradient(circle at center,#2b0047,#000010);color:#fff;text-align:center;overflow-x:hidden;transition:.5s}
.light-mode{background:radial-gradient(circle at center,#f0f0f0,#d4d4d4);color:#000}
canvas{position:fixed;inset:0;z-index:-1;display:block}
.container{max-width:1000px;margin:0 auto;padding:40px 20px}
h1{font-family:'Orbitron',sans-serif;font-size:3rem;text-shadow:0 0 20px #7b2ff7}
p.lead{margin-top:10px;color:#dcd6ff;font-size:1.15rem}
.top-buttons{margin-top:25px;display:flex;flex-direction:column;gap:12px;align-items:center}
.btn{background:linear-gradient(45deg,#7b2ff7,#00f0ff);border:none;color:#fff;padding:12px 18px;border-radius:28px;cursor:pointer;font-weight:600;transition:transform .35s,box-shadow .35s;display:inline-flex;align-items:center;gap:6px;box-shadow:0 0 15px #7b2ff7}
.btn:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 0 35px #00f0ff}
.tagline{margin:35px auto 15px;font-family:'Orbitron',sans-serif;font-size:1.2rem;color:#ccc;text-shadow:0 0 10px #7b2ff7}
.extra-buttons{display:none;flex-direction:column;gap:10px;align-items:center;margin-top:25px}
.extra-buttons.show{display:flex;animation:fadeIn 1s}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* Tools Box */
#toolsBox{display:none;margin:30px auto;max-width:900px;padding:20px;border-radius:15px;background:rgba(255,255,255,0.07);box-shadow:0 0 25px rgba(123,47,247,0.4)}
#toolsBox.show{display:block;animation:fadeIn 1s}
.tool-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:15px}
.tool{background:linear-gradient(135deg,#7b2ff7,#00f0ff);padding:12px;border-radius:12px;color:#fff;font-weight:600;cursor:pointer;transition:.3s;box-shadow:0 0 10px #00f0ff;min-height:56px;display:flex;align-items:center;justify-content:center;text-align:center}
.tool:hover{transform:scale(1.05);box-shadow:0 0 25px #00f0ff}

/* Modal */
.modal-backdrop{position:fixed;inset:0;display:none;background:rgba(0,0,0,0.85);align-items:center;justify-content:center;z-index:1000;padding:20px;overflow:auto}
.modal{background:#0f0f17;padding:20px;border-radius:12px;max-width:820px;box-shadow:0 0 20px #7b2ff7;text-align:left;color:#fff}
.modal h3{font-family:'Orbitron',sans-serif;margin-bottom:6px}
.modal .row{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.modal .col{flex:1;min-width:200px}
.small{font-size:0.9rem;opacity:0.9;margin-bottom:12px}
.modal .actions{display:flex;gap:8px;margin-top:12px;justify-content:flex-end}
.modal .modal-btn{margin:6px 0;padding:8px 12px;border:none;border-radius:8px;cursor:pointer;background:linear-gradient(45deg,#7b2ff7,#00f0ff);color:#fff;font-weight:600}
.input,textarea,select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
textarea{height:100px}
.preview-box{background:rgba(255,255,255,0.03);padding:10px;border-radius:8px}
.footer-note{margin-top:40px;font-size:0.9rem;opacity:0.7}
.toggle-mode{position:fixed;top:15px;right:60px;border:none;border-radius:20px;padding:10px 14px;cursor:pointer;background:#fff;color:#000;font-weight:600}
#visitorBox{position:fixed;top:15px;right:15px;z-index:999;background:rgba(0,0,0,0.6);padding:8px 14px;border-radius:10px;box-shadow:0 0 12px #7b2ff7;font-family:'Orbitron',sans-serif;font-size:0.9rem;color:#00f0ff;text-shadow:0 0 6px #7b2ff7}
canvas.small{border-radius:6px;max-width:100%}
.kv{display:flex;justify-content:space-between;gap:8px}

/* small responsiveness */
@media (max-width:600px){
  .container{padding:20px}
  h1{font-size:2rem}
  .btn{padding:10px 14px}
}
</style>
</head>
<body>
<canvas id="particles"></canvas>
<button class="toggle-mode" onclick="document.body.classList.toggle('light-mode')">ğŸŒ™ Mode</button>
<div id="visitorBox">ğŸ‘ Visitors: <span id="visitorCount">--</span></div>

<main class="container">
  <h1>ğŸ’» CyberX âš¡</h1>
  <p class="lead">All 25 tools â€” fully functional. Click any tool to open it here.</p>

  <div class="top-buttons">
    <button class="btn" onclick="showContact()">ğŸ“© Contact</button>
    <button id="startBtn" class="btn">ğŸš€ Start Experience</button>
  </div>

  <div class="tagline">Nexty â€” Where Innovation Meets Imagination.</div>

  <div class="extra-buttons" id="extraButtons">
    <button class="btn" id="toolsBtn">ğŸ§° Tools</button>
    <button class="btn" onclick="openComing('Coming Soon 1')">ğŸ”œ Coming Soon 1</button>
    <button class="btn" onclick="openComing('Coming Soon 2')">ğŸ”œ Coming Soon 2</button>
  </div>

  <div id="toolsBox">
    <h3>Toolbox</h3>
    <div class="tool-grid" id="toolGrid">
      <div class="tool" id="ideaTool">ğŸ’¡ Idea Generator</div>
      <div class="tool" id="calcTool">ğŸ§® Calculator</div>
      <div class="tool" id="colorTool">ğŸ¨ Color Picker</div>
      <div class="tool" id="schedTool">ğŸ“… Scheduler</div>
      <div class="tool" id="notesTool">ğŸ“ Notes</div>
      <div class="tool" id="compassTool">ğŸ§­ Compass</div>
      <div class="tool" id="shortenTool">ğŸŒ URL Shortener</div>
      <div class="tool" id="fileOrgTool">ğŸ—‚ File Organizer</div>
      <div class="tool" id="vizTool">ğŸ“Š Data Visualizer</div>
      <div class="tool" id="aiTool">ğŸ§  AI Assistant</div>
      <div class="tool" id="imgCompTool">ğŸ“¸ Image Compressor</div>
      <div class="tool" id="audioTrimTool">ğŸµ Audio Trimmer</div>
      <div class="tool" id="videoTool">ğŸ“¹ Video Frame Export</div>
      <div class="tool" id="pwTool">ğŸ” Password Generator</div>
      <div class="tool" id="gradTool">ğŸŒˆ Gradient Maker</div>
      <div class="tool" id="cdTool">ğŸ—“ Countdown Timer</div>
      <div class="tool" id="gameTool">ğŸ•¹ Mini Game</div>
      <div class="tool" id="uploaderTool">ğŸ“‚ File Uploader</div>
      <div class="tool" id="screenshotTool">ğŸ“· Screenshot Canvas</div>
      <div class="tool" id="invoiceTool">ğŸ§¾ Invoice Creator</div>
      <div class="tool" id="unitTool">ğŸ§® Unit Converter</div>
      <div class="tool" id="qrTool">ğŸ“‘ QR Code Generator</div>
      <div class="tool" id="ttsTool">ğŸ“¢ Text-to-Speech</div>
      <div class="tool" id="chatTool">ğŸ’¬ Chat Simulator</div>
      <div class="tool" id="logoTool">ğŸª„ Logo Maker</div>
    </div>
  </div>
</main>

<div class="footer-note">âœ¨ Built by Nexty â€” The Future Starts Here âš¡</div>
<audio id="bgMusic" loop><source src="music/music_anna_ansak.mp3" type="audio/mpeg"></audio>

<!-- Contact Modal -->
<div id="contactModal" class="modal-backdrop">
  <div class="modal">
    <h3>Contact Me</h3>
    <button class="modal-btn" onclick="window.location='mailto:imsyber4@gmail.com'">ğŸ“§ Email Me</button>
    <button class="modal-btn" onclick="window.open('https://wa.me/923192084504?text=Hi,%20I%20want%20to%20discuss%20a%20website.')">ğŸ’¬ WhatsApp</button>
    <button class="modal-btn" onclick="closeContact()">âŒ Close</button>
  </div>
</div>

<!-- Tool Modal -->
<div id="toolModal" class="modal-backdrop">
  <div class="modal" id="toolModalContent">
    <h3 id="toolTitle">Tool</h3>
    <div id="toolInner"></div>
    <div class="actions" style="margin-top:12px">
      <button class="modal-btn" onclick="closeModal()">âŒ Close</button>
    </div>
  </div>
</div>

<script>
/* ---------------- Part A: Particles + UI ---------------- */
const c=document.getElementById('particles'), x=c.getContext('2d');
function resize(){c.width=innerWidth; c.height=innerHeight;}
resize(); window.addEventListener('resize', resize);
let p=[]; for(let i=0;i<120;i++) p.push({x:Math.random()*c.width,y:Math.random()*c.height,s:Math.random()*2+0.8,vx:(Math.random()-.5)*.6,vy:(Math.random()-.5)*.6});
function anim(){ x.clearRect(0,0,c.width,c.height); for(const a of p){ a.x+=a.vx; a.y+=a.vy; if(a.x<0||a.x>c.width) a.vx*=-1; if(a.y<0||a.y>c.height) a.vy*=-1; x.fillStyle='rgba(123,47,247,0.7)'; x.beginPath(); x.arc(a.x,a.y,a.s,0,Math.PI*2); x.fill(); } requestAnimationFrame(anim); } anim();

/* Buttons */
const startBtn=document.getElementById('startBtn'), bgMusic=document.getElementById('bgMusic');
const extraButtons=document.getElementById('extraButtons'), toolsBtn=document.getElementById('toolsBtn'), toolsBox=document.getElementById('toolsBox');
let toolsVisible=false;
startBtn.addEventListener('click',()=>{ if(bgMusic.paused){ bgMusic.play(); startBtn.innerHTML='â¸ Pause Music'; extraButtons.classList.add('show'); } else { bgMusic.pause(); startBtn.innerHTML='ğŸš€ Start Experience'; extraButtons.classList.remove('show'); }});
toolsBtn.addEventListener('click',()=>{ toolsVisible=!toolsVisible; toolsBox.classList.toggle('show', toolsVisible); });

/* Contact modal */
function showContact(){ document.getElementById('contactModal').style.display='flex'; }
function closeContact(){ document.getElementById('contactModal').style.display='none'; }

/* Coming Soon popups */
function openComing(name){ openModal(name, `<p class="small">This slot is reserved for future features. You can add content here later.</p>`); }

/* Visitor counter */
async function updateVisitorCount(){ const visitorCount=document.getElementById('visitorCount'); try{ const res=await fetch('https://api.countapi.xyz/hit/cyberx/visits'); const data=await res.json(); visitorCount.textContent=data.value.toLocaleString(); }catch(e){ const key='cyberx_local_visits'; const v=Number(localStorage.getItem(key)||0)+1; localStorage.setItem(key,v); visitorCount.textContent=v.toLocaleString(); } }
updateVisitorCount();

/* ---------------- Part B: Modal helper ---------------- */
const toolModal=document.getElementById('toolModal'), toolInner=document.getElementById('toolInner'), toolTitle=document.getElementById('toolTitle');
function openModal(title, html){ toolTitle.innerText = title; toolInner.innerHTML = html; toolModal.style.display='flex'; }
function closeModal(){ toolModal.style.display='none'; toolInner.innerHTML=''; }
toolModal.addEventListener('click', (e)=>{ if(e.target===toolModal) closeModal(); });

/* ---------------- Part C: Tool wiring ---------------- */
const toolsMap = {
  ideaTool: openIdea,
  calcTool: openCalc,
  colorTool: openColor,
  schedTool: openSched,
  notesTool: openNotes,
  compassTool: openCompass,
  shortenTool: openShorten,
  fileOrgTool: openFileOrg,
  vizTool: openViz,
  aiTool: openAI,
  imgCompTool: openImgComp,
  audioTrimTool: openAudioTrim,
  videoTool: openVideoTool,
  pwTool: openPassword,
  gradTool: openGrad,
  cdTool: openCountdown,
  gameTool: openGame,
  uploaderTool: openUploader,
  screenshotTool: openScreenshot,
  invoiceTool: openInvoice,
  unitTool: openUnit,
  qrTool: openQR,
  ttsTool: openTTS,
  chatTool: openChat,
  logoTool: openLogo
};
for(const id in toolsMap){
  const el=document.getElementById(id);
  if(el) el.addEventListener('click', toolsMap[id]);
}

/* ---------------- Part D: Tool Implementations ---------------- */

/* 1) Idea Generator */
function openIdea(){
  const ideas=["AI-powered portfolio site","Smart expense tracker app","Voice virtual assistant","CyberX futuristic dashboard","Music mood playlist generator","Code snippet organizer","Nexty Chat companion","AR business card reader","Eco-ride route optimizer","Instant recipe from fridge items","Realtime collaborative whiteboard","Minimal habit tracker"];
  openModal('ğŸ’¡ Idea Generator', `<p class="small">Click Generate for a new idea.</p><div class="preview-box" id="ideaBox">ğŸ’¡ ${ideas[0]}</div><div class="actions"><button class="modal-btn" id="ideaGenBtn">ğŸ² Generate</button></div>`);
  document.getElementById('ideaGenBtn').onclick = ()=>{ document.getElementById('ideaBox').innerText = 'ğŸ’¡ '+ideas[Math.floor(Math.random()*ideas.length)]; };
}

/* 2) Calculator (safe-ish eval with whitelist) */
function openCalc(){
  openModal('ğŸ§® Calculator', `<p class="small">Type a math expression (supports + - * / % ^ Math functions) and press Evaluate.</p>
    <input id="calcExpr" class="input" placeholder="e.g. (12+3)/5*2">
    <div class="actions"><button class="modal-btn" id="calcEvalBtn">Evaluate</button></div>
    <div class="preview-box" id="calcRes">Result: â€”</div>`);
  document.getElementById('calcEvalBtn').onclick = ()=>{
    const expr = document.getElementById('calcExpr').value;
    try{
      const safe = expr.replace(/[^0-9+\-*/().,%\sA-Za-z]/g,'');
      const prepared = safe.replace(/\^/g,'**');
      const res = Function('"use strict"; return ( '+prepared+' )')();
      document.getElementById('calcRes').innerText = 'Result: '+res;
    }catch(e){
      document.getElementById('calcRes').innerText = 'Error: '+e.message;
    }
  };
}

/* 3) Color Picker */
function openColor(){
  openModal('ğŸ¨ Color Picker', `<p class="small">Pick a color, see HEX/RGB and copy CSS code.</p>
    <div class="row"><div class="col"><input id="colorInp" type="color" value="#7b2ff7" style="height:48px;border-radius:8px;border:none"></div>
    <div class="col preview-box" id="colorInfo">HEX: #7b2ff7<br>RGB: 123,47,247</div></div>
    <div class="actions"><button class="modal-btn" id="copyColorBtn">Copy CSS</button></div>`);
  const inp=document.getElementById('colorInp'), info=document.getElementById('colorInfo');
  const update = ()=>{ const c=inp.value; const r=parseInt(c.substr(1,2),16), g=parseInt(c.substr(3,2),16), b=parseInt(c.substr(5,2),16); info.innerHTML = `HEX: ${c}<br>RGB: ${r},${g},${b}`; info.style.background = c; info.style.color = (r+g+b>380)?'#000':'#fff'; };
  inp.addEventListener('input', update); update();
  document.getElementById('copyColorBtn').onclick = ()=>{ navigator.clipboard.writeText(`background: ${inp.value};`).then(()=>alert('CSS copied')) };
}

/* 4) Scheduler (localStorage + in-tab alerts) */
function openSched(){
  openModal('ğŸ“… Scheduler', `<p class="small">Create reminders (stored locally). Alerts will appear while this tab is open.</p>
    <input id="remTitle" class="input" placeholder="Reminder title">
    <input id="remTime" class="input" type="datetime-local">
    <div class="actions"><button class="modal-btn" id="setRemBtn">Set Reminder</button></div>
    <div class="preview-box" id="remList">No reminders</div>`);
  const listEl = document.getElementById('remList');
  function load(){ const arr=JSON.parse(localStorage.getItem('cyberx_rem')||'[]'); if(!arr.length) listEl.innerText='No reminders'; else listEl.innerHTML = arr.map((r,i)=>`<div style="margin-bottom:8px">${r.title} â€” ${new Date(r.at).toLocaleString()} <button class="modal-btn" onclick="deleteRem(${i})" style="display:inline-block;margin-left:8px;padding:6px 8px">Del</button></div>`).join(''); }
  window.deleteRem = function(i){ const arr=JSON.parse(localStorage.getItem('cyberx_rem')||'[]'); arr.splice(i,1); localStorage.setItem('cyberx_rem',JSON.stringify(arr)); load(); };
  document.getElementById('setRemBtn').onclick = ()=>{
    const t=document.getElementById('remTime').value, title=document.getElementById('remTitle').value||'Reminder';
    if(!t){ alert('Choose date/time'); return; }
    const arr=JSON.parse(localStorage.getItem('cyberx_rem')||'[]'); arr.push({title, at:t}); localStorage.setItem('cyberx_rem',JSON.stringify(arr)); load(); scheduleCheck();
  };
  load();
  function scheduleCheck(){
    const arr=JSON.parse(localStorage.getItem('cyberx_rem')||'[]'); const now=Date.now();
    for(const r of arr){ const t=new Date(r.at).getTime(); if(t>now && t-now<24*3600*1000){ setTimeout(()=> alert('ğŸ”” '+r.title), Math.max(0,t-now)); } }
  }
  scheduleCheck();
}

/* 5) Notes (localStorage) */
function openNotes(){
  openModal('ğŸ“ Notes', `<p class="small">Quick notes (saved locally)</p>
    <textarea id="notesArea" placeholder="Write notes..."></textarea>
    <div class="actions"><button class="modal-btn" id="saveNotes">Save</button><button class="modal-btn" id="clearNotes">Clear</button></div>`);
  const ta=document.getElementById('notesArea');
  ta.value = localStorage.getItem('cyberx_notes')||'';
  document.getElementById('saveNotes').onclick = ()=>{ localStorage.setItem('cyberx_notes', ta.value); alert('Saved locally'); };
  document.getElementById('clearNotes').onclick = ()=>{ ta.value=''; localStorage.removeItem('cyberx_notes'); };
}

/* 6) Compass (DeviceOrientation) */
function openCompass(){
  openModal('ğŸ§­ Compass', `<p class="small">Shows device heading (if supported; mobile & secure context recommended).</p>
    <div class="preview-box" id="compHeading">Heading: N/A</div>
    <div class="actions"><button class="modal-btn" id="stopCompass">Stop</button></div>`);
  const box=document.getElementById('compHeading');
  function handler(e){ const h = e.webkitCompassHeading || e.alpha; box.innerText = (h==null)?'Heading: N/A':'Heading: '+Math.round(h)+'Â°'; }
  if(window.DeviceOrientationEvent){ window.addEventListener('deviceorientation', handler); document.getElementById('stopCompass').onclick = ()=>{ window.removeEventListener('deviceorientation', handler); box.innerText='Stopped'; }; } else { box.innerText='DeviceOrientation not supported'; document.getElementById('stopCompass').style.display='none'; }
}

/* 7) URL Shortener â€” TinyURL */
function openShorten(){
  openModal('ğŸŒ URL Shortener', `<p class="small">Creates a short link using TinyURL (no account needed).</p>
    <input id="longUrl" class="input" placeholder="https://example.com/very/long/path">
    <div class="actions"><button class="modal-btn" id="shortBtn">Shorten & Copy</button></div>
    <input id="shortRes" class="input preview-box" readonly placeholder="Short link appears here">`);
  document.getElementById('shortBtn').onclick = async ()=>{
    const u = document.getElementById('longUrl').value.trim();
    if(!u){ alert('Enter URL'); return; }
    try{
      const res = await fetch('https://tinyurl.com/api-create?url=' + encodeURIComponent(u));
      if(!res.ok) throw new Error('Shortener failed: ' + res.status);
      const short = await res.text();
      document.getElementById('shortRes').value = short;
      try{ await navigator.clipboard.writeText(short); alert('Short link copied'); }catch(e){ alert('Short link ready (clipboard failed)'); }
    }catch(err){
      alert('Error creating short link: ' + err.message);
    }
  };
}

/* 8) File Organizer (client-side metadata) */
function openFileOrg(){
  openModal('ğŸ—‚ File Organizer', `<p class="small">Choose files and label them (client-side only).</p>
    <input id="orgFiles" type="file" multiple class="input">
    <input id="orgTag" class="input" placeholder="Comma-separated tags">
    <div class="actions"><button class="modal-btn" id="addOrg">Add</button></div>
    <div id="orgList" class="preview-box">No files</div>`);
  function render(){ const db=JSON.parse(localStorage.getItem('cyberx_files')||'[]'); const el=document.getElementById('orgList'); if(!db.length) el.innerText='No files'; else el.innerHTML = db.map((f,i)=>`<div style="margin-bottom:8px"><b>${f.name}</b> (${Math.round(f.size/1024)}KB) â€” tags: ${f.tags.join(', ')} <button class="modal-btn" onclick="removeOrg(${i})" style="display:inline-block;margin-left:8px;padding:6px 8px">Remove</button></div>`).join(''); }
  window.removeOrg = function(i){ const db=JSON.parse(localStorage.getItem('cyberx_files')||'[]'); db.splice(i,1); localStorage.setItem('cyberx_files', JSON.stringify(db)); render(); }
  document.getElementById('addOrg').onclick = ()=>{
    const files=document.getElementById('orgFiles').files; const tags=document.getElementById('orgTag').value.split(',').map(s=>s.trim()).filter(Boolean);
    if(!files.length){ alert('Select files'); return; }
    const db = JSON.parse(localStorage.getItem('cyberx_files')||'[]');
    for(const f of files){ db.unshift({name:f.name,size:f.size,tags:tags}); }
 
